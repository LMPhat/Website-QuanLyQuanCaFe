@{
    ViewBag.Title = "KhachHang";
    Layout = "~/Views/Shared/_LayoutKhachHang.cshtml";
}

@using DoAn_WebBanCaPhe.Models;
@model KHACHHANG

<head>
    <title>Coffee</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Great+Vibes" rel="stylesheet">
    <link rel="stylesheet" href="~/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="~/css/animate.css">

    <link rel="stylesheet" href="~/css/owl.carousel.min.css">
    <link rel="stylesheet" href="~/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="~/css/magnific-popup.css">
    <link rel="stylesheet" href="~/css/aos.css">
    <link rel="stylesheet" href="~/css/ionicons.min.css">
    <link rel="stylesheet" href="~/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="~/css/jquery.timepicker.css">

    <link rel="stylesheet" href="~/css/flaticon.css">
    <link rel="stylesheet" href="~/css/icomoon.css">
    <link rel="stylesheet" href="~/css/style.css">
</head>
<body>
    @if (ViewBag.ErrorMessage != null)
    {
        <div class="alert alert-danger">
            @ViewBag.ErrorMessage
        </div>
    }
    <section class="ftco-section">
        <div class="container">
            <div class="row">
                <div class="col-xl-8 ftco-animate billing-form ftco-bg-dark p-3 p-md-5" style="margin-left:200px;">
                    <form action="/KhachHang/SuaKH" method="post" class="">
                        <h3 class="mb-4 billing-heading text-center">Update Information</h3>
                        <div class="row align-items-end">
                            <div class="u-form-group u-form-name" style="margin-left: 28%; margin-top: 10px; width: 300px; ">
                                <input type="hidden" value="@Model.MAKH" placeholder="" id="name-bb74" name="id" class="form-control" required="">
                            </div>
                            <div class="u-form-group u-form-name" style="margin-left: 28%; margin-top: 10px; width: 300px; ">
                                <label for="name-bb74" class="u-label">Name (*)</label>
                                <input type="text" value="@Model.TENKH" placeholder="Enter your Name" id="name-bb74" name="name" class="form-control" required="">
                            </div>
                            <div class="u-form-group u-form-name" style="margin-left: 28%; margin-top: 10px; width: 300px; ">
                                <label for="phone-bb74" class="u-label">Phone (*)</label>
                                <input type="text" value="@Model.SDT" oninput="validateNumber(this)" pattern="[0-9]*" maxlength="10" placeholder="Enter your Phone" id="phone-bb74" name="phone" class="form-control " required="">
                                <span id="error-phone" style="color: red; display: none;">The phone number must have 10 digits</span>
                            </div>
                            <div class="u-form-group u-form-name" style="margin-left: 28%; margin-top: 10px; width: 300px; ">
                                <label for="address-bb74" class="u-label">Address (*)</label>
                                <input type="text" value="@Model.DIACHI" placeholder="Enter your Address" id="address-bb74" name="address" class="form-control" required="">
                            </div>
                            <div class="u-form-group" style="margin-left: 26%; margin-top: 10px; width: 300px; ">
                                <div class="col-md-12">
                                    <label for="gender-bb74" class="u-label">Gender (*)</label>
                                    <div class="radio">
                                        <label>
                                            <input type="radio" id="genderMale" name="gender" value="NAM" class="mr-2" @(Model.GIOITINH == "NAM" ? "checked" : "")> Male &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </label>
                                        <label>
                                            <input type="radio" id="genderFemale" name="gender" value="NỮ" class="mr-2" @(Model.GIOITINH == "NỮ" ? "checked" : "")> Female
                                        </label>
                                    </div>
                                </div>
                            </div>
                            @*<div class="u-form-group u-form-name" style="margin-left: 28%; margin-top: 10px; width: 300px; ">
                        <label for="username-bb74" class="u-label">Username (*)</label>
                        <input type="text" placeholder="Enter your Username" id="username-bb74" name="username" class="form-control" required="">
                    </div>
                    <div class="u-form-group u-form-group-3" style="margin-left: 28%; margin-top: 10px; width: 300px; ">
                        <label for="text-cca6" class="u-label">Password (*)</label>
                        <input type="password" placeholder="Enter your Password" id="text-cca6" name="password" class="form-control" required="">
                    </div>
                    <div class="u-form-group u-form-group-3" style="margin-left: 28%; margin-top: 10px; width: 300px; ">
                        <label for="confirm-cca6" class="u-label">Confirm Password (*)</label>
                        <input type="password" placeholder="Enter your Confirm password" id="confirmPassword" name="confirmpassword" class="form-control" required="" oninput="validatePassword()">
                        <span id="error-msg" style="color: red; display: none;">Passwords do not match</span>
                    </div>*@
                        </div>
                        <br />
                        <div class="u-align-center u-form-group u-form-submit" style="margin-left: 42%;">
                            @*<a href="#" class="btn btn-primary py-3 px-4">Sign in</a>*@
                            <input type="submit" value="Submit" class="u-form-control-hidden btn btn-primary py-3 px-4">
                        </div>

                    </form><!-- END -->
                    <p class="u-text u-text-default u-text-2 text-sm-right">
                        <a class="u-active-none u-border-none u-btn u-button-link u-button-style u-hover-none u-none u-text-palette-1-base u-btn-3"
                           href="/KhachHang/KiemTraPass">Change the password?</a>
                    </p>
                    <!-- Modal cho sản phẩm cụ thể -->
                    @*<form method="post" action="/KhachHang/KiemTraPass" enctype="multipart/form-data">
                        <div class="modal fade" id="addProductModal" tabindex="-1" role="dialog" aria-labelledby="addProductModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="addProductModalLabel">Update Password</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body text-xl-left" style="color:gray;">
                                        
                                        <div class="editor-label">
                                    Username: @Model.TENDANGNHAP
                                </div>
                                        <input type="hidden" name="username" value="@Model.TENDANGNHAP" placeholder="" required="" />
                                        <div class="editor-label">
                                            Password
                                        </div>
                                        <div class="editor-field">
                                            <input type="password" name="password" placeholder="Enter your Password" required="" />
                                            @Html.ValidationMessage("password", "", new { @class = "text-danger" })
                                        </div>

                                        <div class="editor-label">
                                    New Password
                                </div>
                                <div class="editor-field">
                                    <input type="password" name="newpassword" placeholder="" required="" />
                                    @Html.ValidationMessage("newpassword", "", new { @class = "text-danger" })
                                </div>
                                <div class="editor-label">
                                    Confirm New Password
                                </div>
                                <div class="editor-field">
                                    <input type="password" name="confirmnewpassword" placeholder="" required="" />
                                    @Html.ValidationMessage("confirmnewpassword", "", new { @class = "text-danger" })
                                </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                        <button type="submit" class="btn btn-danger">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>*@
                </div> <!-- .col-md-8 -->
            </div>
        </div>
    </section>
</body>

@if (TempData["LoginMessage"] != null)
{
    if (TempData["LoginMessage"] == "Password changed successfully")
    {
        <script>
            alert("Password changed successfully");
        </script>
    }
    else
    {
        <script>
            alert("Invalid password !");
        </script>
    }
}

<script>
    function validateNumber(input) {
        input.value = input.value.replace(/\D/g, "");
        var error = document.getElementById("error-phone");
        if (input.value.length !== 10) {
            error.style.display = "block";
        } else {
            error.style.display = "none";
        }
    }

    function validatePassword() {
        var password = document.getElementById("password");
        var confirmPassword = document.getElementById("confirmPassword");
        var error = document.getElementById("error-msg");

        if (password.value !== confirmPassword.value) {
            //error.innerHTML = "Passwords do not match";
            error.style.display = "block";
        } else {
            //error.innerHTML = "";
            error.style.display = "none";
        }
    }

</script>

<script src="~/js/jquery.min.js"></script>
<script src="~/js/jquery-migrate-3.0.1.min.js"></script>
<script src="~/js/popper.min.js"></script>
<script src="~/js/bootstrap.min.js"></script>
<script src="~/js/jquery.easing.1.3.js"></script>
<script src="~/js/jquery.waypoints.min.js"></script>
<script src="~/js/jquery.stellar.min.js"></script>
<script src="~/js/owl.carousel.min.js"></script>
<script src="~/js/jquery.magnific-popup.min.js"></script>
<script src="~/js/aos.js"></script>
<script src="~/js/jquery.animateNumber.min.js"></script>
<script src="~/js/bootstrap-datepicker.js"></script>
<script src="~/js/jquery.timepicker.min.js"></script>
<script src="~/js/scrollax.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
<script src="~/js/google-map.js"></script>
<script src="~/js/main.js"></script>

